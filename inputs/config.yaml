ceph_image: "quay.io/ceph/ceph:v17.2.8"
container_runtime: "podman"
mon_bootstrap_script: "inputs/mon_bootstrap.sh"

scenarios:
  "scenario_a":
    - "small_cluster_no_clients_high_recovery"
    - "small_cluster_no_backfill_balanced"
    - "small_cluster_clients_high_recovery_ops"
    - "small_cluster_clients_balanced"
    - "small_cluster_clients_high_client_ops"
  
  "scenario_b":
    - "big_cluster_no_clients"
    - "big_cluster_no_backfill"
    - "big_cluster_no_backfill2"
    - "big_cluster_1new"
    - "big_cluster_5new"
    - "big_cluster_10new"


cases:
  "small_cluster_no_clients_high_recovery":
    template: "inputs/templates/cm_simple.j2"
    osd_num: 4
    pg_num: 64
    profile: "high_recovery_ops"
    "crush_spec_params":
      - dc_shape: "1:3:1"
        dc_weight: "14.0::"
        dc_speed: "10:10:10"
      - dc_shape: ["1:4:1"]
        dc_weight: ["14.0::"]
        dc_speed: ["10:10:10"]
    clients_num: 0
    client_read_queue_depth: 0
    client_write_queue_depth: 64
    client_op_size: 4096
    client_read_bandwidth: 0
    client_write_bandwidth: 0
    disk_write_bandwidth: 536870912
    iops: 10000
    pg_objects: 1000
    object_size: 4194304
    start_up_delay: 0
    shut_down_delay: 0

  "small_cluster_no_backfill_balanced":
    template: "inputs/templates/cm_simple.j2"
    osd_num: 4
    pg_num: 64
    profile: "balanced"
    "crush_spec_params":
      - dc_shape: "1:4:1"
        dc_weight: "14.0::"
        dc_speed: "10:10:10"
      - dc_shape: ["1:4:1"]
        dc_weight: ["14.0::"]
        dc_speed: ["10:10:10"]
    clients_num: 1
    client_read_queue_depth: 0
    client_write_queue_depth: 64
    client_op_size: 4096
    client_read_bandwidth: 0
    client_write_bandwidth: 0
    disk_write_bandwidth: 536870912
    iops: 10000
    pg_objects: 1000
    object_size: 4194304
    start_up_delay: 0
    shut_down_delay: 300

  "small_cluster_clients_high_recovery_ops":
    template: "inputs/templates/cm_simple.j2"
    osd_num: 4
    pg_num: 64
    profile: "high_recovery_ops"
    "crush_spec_params":
      - dc_shape: "1:3:1"
        dc_weight: "14.0::"
        dc_speed: "10:10:10"
      - dc_shape: ["1:4:1"]
        dc_weight: ["14.0::"]
        dc_speed: ["10:10:10"]
    clients_num: 1
    client_read_queue_depth: 0
    client_write_queue_depth: 64
    client_op_size: 4096
    client_read_bandwidth: 0
    client_write_bandwidth: 0
    disk_write_bandwidth: 536870912
    iops: 10000
    pg_objects: 1000
    object_size: 4194304
    start_up_delay: 0
    shut_down_delay: 0

  "small_cluster_clients_balanced":
    template: "inputs/templates/cm_simple.j2"
    osd_num: 4
    pg_num: 64
    profile: "balanced"
    "crush_spec_params":
      - dc_shape: "1:3:1"
        dc_weight: "14.0::"
        dc_speed: "10:10:10"
      - dc_shape: ["1:4:1"]
        dc_weight: ["14.0::"]
        dc_speed: ["10:10:10"]
    clients_num: 1
    client_read_queue_depth: 0
    client_write_queue_depth: 64
    client_op_size: 4096
    client_read_bandwidth: 0
    client_write_bandwidth: 0
    disk_write_bandwidth: 536870912
    iops: 10000
    pg_objects: 1000
    object_size: 4194304
    start_up_delay: 0
    shut_down_delay: 0

  "small_cluster_clients_high_client_ops":
    template: "inputs/templates/cm_simple.j2"
    osd_num: 4
    pg_num: 64
    profile: "high_client_ops"
    "crush_spec_params":
      - dc_shape: "1:3:1"
        dc_weight: "14.0::"
        dc_speed: "10:10:10"
      - dc_shape: ["1:4:1"]
        dc_weight: ["14.0::"]
        dc_speed: ["10:10:10"]
    clients_num: 1
    client_read_queue_depth: 0
    client_write_queue_depth: 64
    client_op_size: 4096
    client_read_bandwidth: 0
    client_write_bandwidth: 0
    disk_write_bandwidth: 536870912
    iops: 10000
    pg_objects: 1000
    object_size: 4194304
    start_up_delay: 0
    shut_down_delay: 0

  "medium_cluster":
    template: "inputs/templates/cm_simple.j2"
    osd_num: 16
    pg_num: 128
    "crush_spec_params":
      - dc_shape: "2:2:2"
        dc_weight: "14.0::"
        dc_speed: "10:10:10"
      - dc_shape: "4:2:2"
        dc_weight: "14.0::"
        dc_speed: "10:10:10"
    clients_num: 0
    client_read_queue_depth: 16
    client_write_queue_depth: 16



  "big_cluster_no_clients":
    template: "inputs/templates/cm_simple.j2"
    osd_num: 720
    pg_num: 2048
    profile: "balanced"
    "crush_spec_params":
      - dc_shape: "2:10:24"
        dc_weight: "14.0::"
        dc_speed: "100:100:25"
      - dc_shape: ["2:10:24", "2:5:24"]
        dc_weight: ["14.0::", "20.0::"]
        dc_speed: ["100:100:25", "100:100:25"]
    clients_num: 0
    client_read_queue_depth: 0
    client_write_queue_depth: 0
    client_op_size: 8388608
    client_read_bandwidth: 536870912
    client_write_bandwidth: 536870912
    disk_write_bandwidth: 268435456
    iops: 80
    pg_objects: 250
    object_size: 4194304
    start_up_delay: 0
    shut_down_delay: 0

  "big_cluster_no_backfill":
    template: "inputs/templates/cm_simple.j2"
    osd_num: 720
    pg_num: 2048
    profile: "balanced"
    "crush_spec_params":
      - dc_shape: "2:10:24"
        dc_weight: "14.0::"
        dc_speed: "100:100:25"
      - dc_shape: "2:10:24"
        dc_weight: "14.0::"
        dc_speed: "100:100:25"
    clients_num: 1
    client_read_queue_depth: 128
    client_write_queue_depth: 32
    client_op_size: 8388608
    client_read_bandwidth: 2297801845
    client_write_bandwidth: 709885952
    disk_write_bandwidth: 268435456
    iops: 80
    pg_objects: 250
    object_size: 4194304
    start_up_delay: 0
    shut_down_delay: 300

  "big_cluster_no_backfill2":
    template: "inputs/templates/cm_simple.j2"
    osd_num: 720
    pg_num: 2048
    profile: "balanced"
    "crush_spec_params":
      - dc_shape: "2:10:24"
        dc_weight: "14.0::"
        dc_speed: "100:100:25"
      - dc_shape: "2:10:24"
        dc_weight: "14.0::"
        dc_speed: "100:100:25"
    clients_num: 1
    client_read_queue_depth: 128
    client_write_queue_depth: 32
    client_op_size: 8388608
    client_read_bandwidth: 229780184
    client_write_bandwidth: 70988595
    disk_write_bandwidth: 268435456
    iops: 80
    pg_objects: 250
    object_size: 4194304
    start_up_delay: 0
    shut_down_delay: 300

  "big_cluster_1new":
    template: "inputs/templates/cm_simple.j2"
    osd_num: 720
    pg_num: 2048
    profile: "balanced"
    "crush_spec_params":
      - dc_shape: "2:10:24"
        dc_weight: "14.0::"
        dc_speed: "100:100:25"
      - dc_shape: ["2:10:24", "1:1:24"]
        dc_weight: ["14.0::", "20.0::"]
        dc_speed: ["100:100:25", "100:100:25"]
    clients_num: 1
    client_read_queue_depth: 128
    client_write_queue_depth: 32
    client_op_size: 8388608
    client_read_bandwidth: 2297801845
    client_write_bandwidth: 709885952
    disk_write_bandwidth: 268435456
    iops: 80
    pg_objects: 250
    object_size: 4194304
    start_up_delay: 0
    shut_down_delay: 0

  "big_cluster_5new":
    template: "inputs/templates/cm_simple.j2"
    osd_num: 720
    pg_num: 2048
    profile: "balanced"
    "crush_spec_params":
      - dc_shape: "2:10:24"
        dc_weight: "14.0::"
        dc_speed: "100:100:25"
      - dc_shape: ["2:10:24", "1:5:24"]
        dc_weight: ["14.0::", "20.0::"]
        dc_speed: ["100:100:25", "100:100:25"]
    clients_num: 1
    client_read_queue_depth: 128
    client_write_queue_depth: 32
    client_op_size: 8388608
    client_read_bandwidth: 2297801845
    client_write_bandwidth: 709885952
    disk_write_bandwidth: 268435456
    iops: 80
    pg_objects: 250
    object_size: 4194304
    start_up_delay: 0
    shut_down_delay: 0

  "big_cluster_10new":
    template: "inputs/templates/cm_simple.j2"
    osd_num: 720
    pg_num: 2048
    profile: "balanced"
    "crush_spec_params":
      - dc_shape: "2:10:24"
        dc_weight: "14.0::"
        dc_speed: "100:100:25"
      - dc_shape: ["2:10:24", "2:5:24"]
        dc_weight: ["14.0::", "20.0::"]
        dc_speed: ["100:100:25", "100:100:25"]
    clients_num: 1
    client_read_queue_depth: 128
    client_write_queue_depth: 32
    client_op_size: 8388608
    client_read_bandwidth: 2297801845
    client_write_bandwidth: 709885952
    disk_write_bandwidth: 268435456
    iops: 80
    pg_objects: 250
    object_size: 4194304
    start_up_delay: 0
    shut_down_delay: 0
